<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="c2d3c99c-0dbc-441c-b0e7-171a3759dde5" activeEnvironment="Default" name="REST Project 1" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="13f7d5e3-a420-441b-8e14-a4aa6b1c5f17" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Client_credentials" path="/api/rest_admin/oauth2/token/client_credentials" id="189155b9-c55b-4833-9b7a-fb54b7025c3b"><con:settings/><con:parameters/><con:method name="Client_credentials 1" id="0435fe43-e68d-4d95-b322-9b1ec7009acb" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials">cli:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Token" id="e62fd904-ee7a-43f8-89dd-807c8c08fbec" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9jbGllbnQ6dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9zZWNyZXQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="88b3392c-5dfb-48e2-bc5f-d48ef44bc90d" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Login" path="/api/rest_admin/login" id="f44f9934-4deb-44e8-af05-7fa44e7da844"><con:settings/><con:parameters/><con:method name="Login 1" id="034e7a61-5fc3-48f1-a346-46b313c7dd91" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/login">log:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Login" id="9f154f43-1e82-4bc5-a979-ddf78de4b159" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer 3745c97cf34153694ea780e92e99c9fb67f31029" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="818c98d2-7fd5-4820-8ba4-ccb4262e4d77" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Products" path="/api/rest_admin/products" id="2cfce3fe-77b5-42bc-a9c2-344faf2bd72b"><con:settings/><con:parameters/><con:method name="GetAll" id="43f9ed64-d2e1-4a8c-9bf3-93da01912cec" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:prod="http://rest-api.upskills.in/api/rest_admin/products">prod:Response</con:element></con:representation><con:request name="GetListofAllProducts" id="cb4aeb4d-6e1d-4c06-be58-9d5f6ced2b83" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer 3745c97cf34153694ea780e92e99c9fb67f31029" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="c1f36b26-9079-4592-bf70-4691644b6e20" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Products" path="/api/rest_admin/products" id="651cdda1-ce2e-4ac1-906c-396a5a895eea"><con:settings/><con:parameters/><con:method name="CreateProduct" id="363ec728-8125-49c1-b44b-bae30de4b07a" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:prod="http://rest-api.upskills.in/api/rest_admin/products">prod:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:prod="http://rest-api.upskills.in/api/rest_admin/products">prod:Response</con:element></con:representation><con:request name="CreateProduct" id="8202cc44-9b42-4d89-9a32-a104e0ba7ca4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer 6b015431abc5d75879010dbc148c3d387b749e5d" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "model": "demo Product",
  "quantity": "300",
  "price": "44.00",
  "tax_class_id": "1",
  "manufacturer_id": "20",
  "sku": "demo sku",
  "product_seo_url": [
    {
      "keyword": "demo-Product",
      "language_id": "1",
      "store_id": "0"
    }
  ],
  "status": "1",
  "points": 0,
  "reward": 0,
  "image": "",
  "other_images": [
    ""
  ],
  "shipping": "1",
  "stock_status_id": 0,
  "upc": "",
  "ean": "",
  "jan": "",
  "isbn": "",
  "mpn": "",
  "location": "",
  "date_available": "2017-05-12",
  "weight": 0,
  "weight_class_id": 0,
  "length": 0,
  "width": 0,
  "height": 0,
  "length_class_id": 0,
  "subtract": 0,
  "minimum": 0,
  "sort_order": "",
  "product_store": [
    "0"
  ],
  "product_related": [
    "34"
  ],
  "product_filter": [
    "34"
  ],
  "product_description": [
    {
      "language_id": "1",
      "name": "BreadButterJam",
      "description": "Description of the product",
      "meta_title": "Meta title of the product",
      "meta_description": "Meta description of the product",
      "meta_keyword": "demo, keyword, demo2",
      "tag": "Product's tag, comma separeted"
    }
  ],
  "product_category": [
    "25"
  ],
  "product_special": [
    {
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_discount": [
    {
      "name": "BreadButterJam",
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "quantity": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_attribute": [
    {
      "attribute_id": "16",
      "product_attribute_description": [
        {
          "text": "BreadButterJam",
          "language_id": "1"
        }
      ]
    }
  ],
  "product_option": [
    {
      "type": "radio",
      "option_id": "11",
      "required": "1",
      "product_option_value": [
        {
          "price": "10.00",
          "price_prefix": "+",
          "subtract": "1",
          "points": "0",
          "points_prefix": "+",
          "weight": "0",
          "weight_prefix": "+",
          "option_value_id": "46",
          "quantity": "0"
        }
      ]
    }
  ]
}


</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="243bb060-809a-4daa-ad39-85599cb55972" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Product_id" path="/api/rest_admin/products/{product_id}" id="6b9b1d26-1186-4fee-a821-8f33fdcef6c0"><con:settings/><con:parameters><con:parameter><con:name>product_id</con:name><con:value>product_id</con:value><con:style>TEMPLATE</con:style><con:default>product_id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="GetProductById" id="94ed3f19-7c80-432a-bd7a-120d443bb950" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:prod="http://rest-api.upskills.in/api/rest_admin/products/">prod:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:prod="http://rest-api.upskills.in/api/rest_admin/products/">prod:Response</con:element></con:representation><con:request name="ProductById" id="5ef5d289-5658-4165-926e-7f2c0ba61dd8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="product_id" value="product_id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>product_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="07bbffbb-900b-40ed-b1ee-081ffd820e7f" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Product_id" path="/api/rest_admin/products/{product_id}" id="a50f49ff-5af8-42de-89a4-f196dfcf8bd7"><con:settings/><con:parameters><con:parameter><con:name>product_id</con:name><con:value>product_id</con:value><con:style>TEMPLATE</con:style><con:default>product_id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="UpdateProduct" id="d5d4f18a-52d0-476d-ac7f-e269a6c7d836" method="PUT"><con:settings/><con:parameters/><con:request name="UpdateProductById" id="967fe74a-f571-4fc5-ab1b-ed45971d4712" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "model": "demo model",
  "quantity": "300",
  "price": "44.00",
  "tax_class_id": "1",
  "manufacturer_id": "20",
  "sku": "demo sku",
  "product_seo_url": [
    {
      "keyword": "demo-keyword",
      "language_id": "1",
      "store_id": "0"
    }
  ],
  "status": "1",
  "points": 0,
  "reward": 0,
  "image": "",
  "other_images": [
    ""
  ],
  "shipping": "1",
  "stock_status_id": 0,
  "upc": "",
  "ean": "",
  "jan": "",
  "isbn": "",
  "mpn": "",
  "location": "",
  "date_available": "2017-05-12",
  "weight": 0,
  "weight_class_id": 0,
  "length": 0,
  "width": 0,
  "height": 0,
  "length_class_id": 0,
  "subtract": 0,
  "minimum": 0,
  "sort_order": "",
  "product_store": [
    "0"
  ],
  "product_related": [
    "34"
  ],
  "product_filter": [
    "34"
  ],
  "product_description": [
    {
      "language_id": "1",
      "name": "demo name",
      "description": "Description of the product",
      "meta_title": "Meta title of the product",
      "meta_description": "Meta description of the product",
      "meta_keyword": "demo, keyword, demo2",
      "tag": "Product's tag, comma separeted"
    }
  ],
  "product_category": [
    "25"
  ],
  "product_special": [
    {
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_discount": [
    {
      "name": "demo name",
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "quantity": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_attribute": [
    {
      "attribute_id": "16",
      "product_attribute_description": [
        {
          "text": "demo name",
          "language_id": "1"
        }
      ]
    }
  ],
  "product_option": [
    {
      "type": "radio",
      "option_id": "11",
      "required": "1",
      "product_option_value": [
        {
          "price": "10.00",
          "price_prefix": "+",
          "subtract": "1",
          "points": "0",
          "points_prefix": "+",
          "weight": "0",
          "weight_prefix": "+",
          "option_value_id": "46",
          "quantity": "0"
        }
      ]
    }
  ]
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="product_id" value="product_id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>product_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="a9883325-3bc6-4fb2-b3e7-f7cf00729eb4" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Product_id" path="/api/rest_admin/products/{product_id}" id="b5c01bb9-2291-46e4-a9f3-2f4779ce187c"><con:settings/><con:parameters><con:parameter><con:name>product_id</con:name><con:value>product_id</con:value><con:style>TEMPLATE</con:style><con:default>product_id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Delete" id="c8121256-99fd-40ad-9615-d30cb5a46e46" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://rest-api.upskills.in/api/rest_admin/products/3274">ns:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:ns="http://rest-api.upskills.in/api/rest_admin/products/3274">ns:Fault</con:element></con:representation><con:request name="Delete" id="d8dfa267-9595-43f4-8768-3b15c7076b3f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer fb4f504729b6c81cf4e62504dcc8c4b437afe9c8" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products/3274</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="product_id" value="3276" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>product_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="72c75eed-c2ae-414e-887f-3a4f53110585" name="Product_SystemTesting"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="d7f9c446-22c2-4a1f-b885-a3b15021affc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="SystemTesting" searchProperties="true"><con:settings/><con:testStep type="groovy" name="GroovyScript_AccessToken" id="f1644f48-3e41-48f0-b72a-6d7fae7c40e2"><con:settings/><con:config><script>import groovy.json.JsonSlurper 
//navigate to different testcase present under project
def prj = testRunner.testCase.testSuite.project.workspace.getProjectByName("REST Project 1")
tCase = prj.testSuites['Product_SystemTesting'].testCases['PreCondition']
tStep = tCase.getTestStepByName("Token")

// Call the test runner and check if it can run the specified step
def runner = tStep.run(testRunner, context)
def resp=tStep.getPropertyValue("response") 
 
Map holder = new JsonSlurper().parseText(resp)
//display response 
log.info holder
String token=holder.data.access_token
log.info token
//store access token value in testcase level
context.testCase.setPropertyValue("accesstoken",token)
//store access token value in testsuite level
context.testCase.testSuite.setPropertyValue("accesstoken",token)
//store access token value in project level
context.testCase.testSuite.project.setPropertyValue("accesstoken",token)</script></con:config></con:testStep><con:testStep type="restrequest" name="Login" id="fcd46f7f-8a3e-4554-89a6-6c925e6e0235"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/login" methodName="Login 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login" id="9f154f43-1e82-4bc5-a979-ddf78de4b159" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#TestCase#accesstoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:assertion type="JsonPath Count" id="bd329d0f-cdbc-43a8-9ee2-c47413478535" name="JsonPath Count"><con:configuration><path>data</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="2e03bffc-15d5-4e22-938d-b51c643a6d5e" name="JsonPath Existence Match"><con:configuration><path>data.username</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="952fa552-987e-4d4f-8ccd-2c4ff16e0f64" name="JsonPath Match"><con:configuration><path>data.email</path><content>probitstechnologies@gmail.com</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="87ca2c98-c2c5-4449-980e-1c784d71de63" name="JsonPath RegEx Match"><con:configuration><path>data.id</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments><regEx>[1-9][1]57.49.168.140</regEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetAllProducts" id="8b8def73-ee23-40f1-a9c4-e14be611bb75"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/products" methodName="GetAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetAllProducts" id="cb4aeb4d-6e1d-4c06-be58-9d5f6ced2b83" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#TestCase#accesstoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products</con:originalUri><con:assertion type="JsonPath Existence Match" id="762ff2e0-aeed-45bd-89e7-9dfe296eb1b7" name="JsonPath Existence Match"><con:configuration><path>data[0].id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="515345f6-6714-4239-8c6c-331f6a12a432" name="JsonPath Match"><con:configuration><path>data[0].manufacturer</path><content>Allen Solly</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="e0a7fd7a-8ff8-40ce-bce9-08d1f20bd81e" name="JsonPath Count"><con:configuration><path>data[99]</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="74bdac96-3ec6-4f03-9df1-a50e34f49eeb" name="JsonPath RegEx Match"><con:configuration><path>data[0].id</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments><regEx>[0-1][1]710</regEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="CreateProduct" id="bbec2c22-6293-4895-ab5c-d147f3e41231"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/products" methodName="CreateProduct" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CreateProduct" id="8202cc44-9b42-4d89-9a32-a104e0ba7ca4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#TestCase#accesstoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "model": "demo Product",
  "quantity": "300",
  "price": "44.00",
  "tax_class_id": "1",
  "manufacturer_id": "20",
  "sku": "demo sku",
  "product_seo_url": [
    {
      "keyword": "demo-Prod",
      "language_id": "1",
      "store_id": "0"
    }
  ],
  "status": "1",
  "points": 0,
  "reward": 0,
  "image": "",
  "other_images": [
    ""
  ],
  "shipping": "1",
  "stock_status_id": 0,
  "upc": "",
  "ean": "",
  "jan": "",
  "isbn": "",
  "mpn": "",
  "location": "",
  "date_available": "2017-05-12",
  "weight": 0,
  "weight_class_id": 0,
  "length": 0,
  "width": 0,
  "height": 0,
  "length_class_id": 0,
  "subtract": 0,
  "minimum": 0,
  "sort_order": "",
  "product_store": [
    "0"
  ],
  "product_related": [
    "34"
  ],
  "product_filter": [
    "34"
  ],
  "product_description": [
    {
      "language_id": "1",
      "name": "Chair",
      "description": "Description of the product",
      "meta_title": "Meta title of the product",
      "meta_description": "Meta description of the product",
      "meta_keyword": "demo, keyword, demo2",
      "tag": "Product's tag, comma separeted"
    }
  ],
  "product_category": [
    "25"
  ],
  "product_special": [
    {
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_discount": [
    {
      "name": "Chair",
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "quantity": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_attribute": [
    {
      "attribute_id": "16",
      "product_attribute_description": [
        {
          "text": "BreadButterJam",
          "language_id": "1"
        }
      ]
    }
  ],
  "product_option": [
    {
      "type": "Chair",
      "option_id": "11",
      "required": "1",
      "product_option_value": [
        {
          "price": "10.00",
          "price_prefix": "+",
          "subtract": "1",
          "points": "0",
          "points_prefix": "+",
          "weight": "0",
          "weight_prefix": "+",
          "option_value_id": "46",
          "quantity": "0"
        }
      ]
    }
  ]
}


</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products</con:originalUri><con:assertion type="GroovyScriptAssertion" id="16f0c382-8a8c-4ae6-801d-23e9f37c8eb5" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("CreateProduct").getPropertyValue("response")
def holder = new JsonSlurper().parseText(response) 
def Prodid = holder.data.id
log.info Prodid
assert holder instanceof Map
assert holder.data.id.class == Integer
context.testCase.setPropertyValue("ProductId",Prodid.toString())</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetProductById" id="b3956eec-f763-4528-89c9-a05380934a16"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/products/{product_id}" methodName="GetProductById" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetProductById" id="5ef5d289-5658-4165-926e-7f2c0ba61dd8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${#TestCase#accesstoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products/</con:originalUri><con:assertion type="GroovyScriptAssertion" id="100eadb8-f5fb-445f-88d4-5828b52f0ed3" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("GetProductById").getPropertyValue("response")
def holder = new JsonSlurper().parseText(response) 
def BeforePrice = holder.data.price
log.info BeforePrice
assert holder instanceof Map
assert holder.data.id.class == Integer
context.testCase.setPropertyValue("BeforePrice",BeforePrice.toString())</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="product_id" value="${#TestCase#ProductId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>product_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UpdateProductById" id="4932bb23-8f59-4275-aee8-23b1fda7e86b"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/products/{product_id}" methodName="UpdateProduct" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UpdateProductById" id="967fe74a-f571-4fc5-ab1b-ed45971d4712" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${#TestCase#accesstoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "model": "demo model",
  "quantity": "300",
  "price": "55.00",
  "tax_class_id": "1",
  "manufacturer_id": "20",
  "sku": "demo sku",
  "product_seo_url": [
    {
      "keyword": "demo-keyword{
  "model": "demo Product",
  "quantity": "300",
  "price": "44.00",
  "tax_class_id": "1",
  "manufacturer_id": "20",
  "sku": "demo sku",
  "product_seo_url": [
    {
      "keyword": "demo-Prod",
      "language_id": "1",
      "store_id": "0"
    }
  ],
  "status": "1",
  "points": 0,
  "reward": 0,
  "image": "",
  "other_images": [
    ""
  ],
  "shipping": "1",
  "stock_status_id": 0,
  "upc": "",
  "ean": "",
  "jan": "",
  "isbn": "",
  "mpn": "",
  "location": "",
  "date_available": "2017-05-12",
  "weight": 0,
  "weight_class_id": 0,
  "length": 0,
  "width": 0,
  "height": 0,
  "length_class_id": 0,
  "subtract": 0,
  "minimum": 0,
  "sort_order": "",
  "product_store": [
    "0"
  ],
  "product_related": [
    "34"
  ],
  "product_filter": [
    "34"
  ],
  "product_description": [
    {
      "language_id": "1",
      "name": "Chair",
      "description": "Description of the product",
      "meta_title": "Meta title of the product",
      "meta_description": "Meta description of the product",
      "meta_keyword": "demo, keyword, demo2",
      "tag": "Product's tag, comma separeted"
    }
  ],
  "product_category": [
    "25"
  ],
  "product_special": [
    {
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_discount": [
    {
      "name": "Chair",
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "quantity": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_attribute": [
    {
      "attribute_id": "16",
      "product_attribute_description": [
        {
          "text": "BreadButterJam",
          "language_id": "1"
        }
      ]
    }
  ],
  "product_option": [
    {
      "type": "Chair",
      "option_id": "11",
      "required": "1",
      "product_option_value": [
        {
          "price": "10.00",
          "price_prefix": "+",
          "subtract": "1",
          "points": "0",
          "points_prefix": "+",
          "weight": "0",
          "weight_prefix": "+",
          "option_value_id": "46",
          "quantity": "0"
        }
      ]
    }
  ]
}


",
      "language_id": "1",
      "store_id": "0"
    }
  ],
  "status": "1",
  "points": 0,
  "reward": 0,
  "image": "",
  "other_images": [
    ""
  ],
  "shipping": "1",
  "stock_status_id": 0,
  "upc": "",
  "ean": "",
  "jan": "",
  "isbn": "",
  "mpn": "",
  "location": "",
  "date_available": "2017-05-12",
  "weight": 0,
  "weight_class_id": 0,
  "length": 0,
  "width": 0,
  "height": 0,
  "length_class_id": 0,
  "subtract": 0,
  "minimum": 0,
  "sort_order": "",
  "product_store": [
    "0"
  ],
  "product_related": [
    "34"
  ],
  "product_filter": [
    "34"
  ],
  "product_description": [
    {
      "language_id": "1",
      "name": "demo name",
      "description": "Description of the product",
      "meta_title": "Meta title of the product",
      "meta_description": "Meta description of the product",
      "meta_keyword": "demo, keyword, demo2",
      "tag": "Product's tag, comma separeted"
    }
  ],
  "product_category": [
    "25"
  ],
  "product_special": [
    {
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_discount": [
    {
      "name": "demo name",
      "customer_group_id": "1",
      "price": "200",
      "priority": "1",
      "quantity": "1",
      "date_start": "2015-02-23",
      "date_end": "2019-02-23"
    }
  ],
  "product_attribute": [
    {
      "attribute_id": "16",
      "product_attribute_description": [
        {
          "text": "demo name",
          "language_id": "1"
        }
      ]
    }
  ],
  "product_option": [
    {
      "type": "radio",
      "option_id": "11",
      "required": "1",
      "product_option_value": [
        {
          "price": "10.00",
          "price_prefix": "+",
          "subtract": "1",
          "points": "0",
          "points_prefix": "+",
          "weight": "0",
          "weight_prefix": "+",
          "option_value_id": "46",
          "quantity": "0"
        }
      ]
    }
  ]
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products/3275</con:originalUri><con:assertion type="GroovyScriptAssertion" id="b44615f8-26d4-492a-82a4-11df94107397" name="Script Assertion"><con:configuration><scriptText/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="product_id" value="${#TestCase#ProductId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>product_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AfterUpdateGetProductById" id="8f18f778-2e3a-4dec-8756-acdfc8095dbe"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/products/{product_id}" methodName="GetProductById" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AfterUpdateGetProductById" id="5ef5d289-5658-4165-926e-7f2c0ba61dd8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${#TestCase#accesstoken}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/products/</con:originalUri><con:assertion type="GroovyScriptAssertion" id="9a5e256b-9e9c-412e-a604-87b7736b4b29" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("AfterUpdateGetProductById").getPropertyValue("response")
def holder = new JsonSlurper().parseText(response) 
def AfterPrice = holder.data.price
AfterPrice
assert holder instanceof Map
assert holder.data.id.class == Integer
context.testCase.setPropertyValue("AfterPrice",AfterPrice.toString())</scriptText></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="product_id" value="${#TestCase#ProductId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>product_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="StatusCodeVerification" id="032fdbca-b3cb-4261-9410-9b4ca4c669cf"><con:settings/><con:config><script>import jxl.*
def accessToken=context.testCase.getPropertyValue("accesstoken")
log.info accessToken
def prodId=context.testCase.getPropertyValue("ProductId")
log.info "Product id  is " + prodId;
    def get  = new URL("http://rest-api.upskills.in/api/rest_admin/products/"+prodId).openConnection();
    get.setRequestProperty("Authorization","bearer "+accessToken)
    def getRC = get.getResponseCode();
    log.info "$getRC"
    if(getRC.equals(200))
    {
        log.info(get.getInputStream().getText());
    }else
    {
        log.info ("Something is wrong")
    }
    
</script></con:config></con:testStep><con:properties><con:property><con:name>accesstoken</con:name><con:value>c2d225830dbf5ee7046dca66c5807760250f5d40</con:value></con:property><con:property><con:name>access_token</con:name><con:value>c2d225830dbf5ee7046dca66c5807760250f5d40</con:value></con:property><con:property><con:name>ProductId</con:name><con:value>3277</con:value></con:property><con:property><con:name>BeforePrice</con:name><con:value>44</con:value></con:property><con:property><con:name>AfterPrice</con:name><con:value>44</con:value></con:property></con:properties></con:testCase><con:testCase id="4e406ffb-c66c-472d-9b11-e36388f70ef0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PreCondition" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Token" id="2771af20-23d3-42f7-a843-8dc2301fd3bc"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/oauth2/token/client_credentials" methodName="Client_credentials 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Token" id="e62fd904-ee7a-43f8-89dd-807c8c08fbec" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9jbGllbnQ6dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9zZWNyZXQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials</con:originalUri><con:assertion type="GroovyScriptAssertion" id="da8f44a6-5d7d-4270-a4e9-fc421b87bcd4" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.testSuite.project.testSuites['Product_SystemTesting'].testCases['PreCondition'].getTestStepByName("Token").getPropertyValue("response")
Map holder = new JsonSlurper().parseText(response) 
log.info holder
String token=holder.data.access_token
log.info token
context.testCase.setPropertyValue("access_token",token)</scriptText></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="9be28a99-1fab-4435-ad64-f02b0d6f422c" name="JsonPath Existence Match"><con:configuration><path>data.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="baf2008f-f36a-4903-a82c-e3606d7296b4" name="JsonPath RegEx Match"><con:configuration><path>data.token_type</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments><regEx>Bearer</regEx></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="432fbd8e-0fb2-4c88-a60c-dcf50137f1bb" name="JsonPath Match"><con:configuration><path>data.token_type</path><content>Bearer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>access_token</con:name><con:value>c2d225830dbf5ee7046dca66c5807760250f5d40</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>